<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Mobile Metas -->
    <meta
      name="viewport"
      content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <!-- Site Metas -->
    <title>TunAcademy</title>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta name="author" content="" />

    <link
      rel="shortcut icon"
      href="images/footer_logo.png"
      type="image/x-icon"
    />
    <link rel="apple-touch-icon" href="#" />

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <!-- Pogo Slider CSS -->
    <link rel="stylesheet" href="css/pogo-slider.min.css" />
    <!-- Site CSS -->
    <link rel="stylesheet" href="css/style.css" />
    <!-- Responsive CSS -->
    <link rel="stylesheet" href="css/responsive.css" />
    <!-- Custom CSS -->
    <link rel="stylesheet" href="css/custom.css" />

    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <meta charset="utf-8" />
    <!--  This file has been downloaded from bootdey.com @bootdey on twitter -->
    <!--  All snippets are MIT license http://bootdey.com/license -->

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <style type="text/css">
      body {
        margin: 0;
        padding-top: 40px;
        color: #2e323c;
        background: #f5f6fa;
        position: relative;
        height: 100%;
      }
      .account-settings .user-profile {
        margin: 0 0 1rem 0;
        padding-bottom: 1rem;
        text-align: center;
      }
      .account-settings .user-profile .user-avatar {
        margin: 0 0 1rem 0;
      }
      .account-settings .user-profile .user-avatar img {
        width: 90px;
        height: 90px;
        -webkit-border-radius: 100px;
        -moz-border-radius: 100px;
        border-radius: 100px;
      }
      .account-settings .user-profile h5.user-name {
        margin: 0 0 0.5rem 0;
      }
      .account-settings .user-profile h6.user-email {
        margin: 0;
        font-size: 0.8rem;
        font-weight: 400;
        color: #9fa8b9;
      }
      .account-settings .about {
        margin: 2rem 0 0 0;
        text-align: center;
      }
      .account-settings .about h5 {
        margin: 0 0 15px 0;
        color: #007ae1;
      }
      .account-settings .about p {
        font-size: 0.825rem;
      }
      .form-control {
        border: 1px solid #cfd1d8;
        -webkit-border-radius: 2px;
        -moz-border-radius: 2px;
        border-radius: 2px;
        font-size: 0.825rem;
        background: #ffffff;
        color: #2e323c;
      }

      .card {
        background: #ffffff;
        -webkit-border-radius: 5px;
        -moz-border-radius: 5px;
        border-radius: 5px;
        border: 0;
        margin-bottom: 1rem;
      }
      @media (min-width: 1080px) {
        #positionni {
          margin: 10px;
          padding-top: 30px;
        }
        #flex-position {
          display: flex;
          justify-content: center;
          align-items: center;
        }
      }

      
    </style>
    
  </head>
  <body>
    <div id="flex-position">
      <header class="top-header">
        <nav class="navbar header-nav navbar-expand-lg">
          <div class="container-fluid">
            <a class="navbar-brand" href="/"
              ><img style="width: 220px" src="images/logo.png" alt="image"
            /></a>
            <button
              class="navbar-toggler"
              type="button"
              data-toggle="collapse"
              data-target="#navbar-wd"
              aria-controls="navbar-wd"
              aria-expanded="false"
              aria-label="Toggle navigation"
            >
              <span></span>
              <span></span>
              <span></span>
            </button>
            <div
              class="collapse navbar-collapse justify-content-end"
              id="navbar-wd"
            >
              <ul class="navbar-nav">
                <li><a class="nav-link active" href="/">Acceuil</a></li>
                <li><a class="nav-link" href="/pfe">Pfe</a></li>s
                <% if (loggedIn) { %>
                <li class="nav-item">
                  <a class="nav-link" href="/profile">My Account</a>
                </li>
                <% } else { %>
                <li class="nav-item">
                  <a class="nav-link" href="/login">Login</a>
                </li>
                <% } %>
              </ul>
            </div>
          </div>
        </nav>
      </header>
      <!-- section -->
      <section id="positionni">
        <div class="container">
          <div class="row gutters">
            <div class="col-xl-3 col-lg-3 col-md-12 col-sm-12 col-12">
              <div class="card h-100">
                <div class="card-body">
                  <div class="account-settings">
                    <div class="user-profile">
                      <div class="user-avatar">
                        <img
                          src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSt9ISaBFDC88ejiGrYACSt81CFq21QsZ6bow&s"
                          alt=" Admin"
                        />
                      </div>
                      <h5 class="user-name">Welcome, <%= user.name %>!</h5>
                      <h6 class="user-email">
                        <a
                          class="__cf_email__"
                          data-cfemail="532a26383a131e322b24363f3f7d303c3e"
                          ><%= user.email %></a
                        >
                      </h6>
                    </div>
                    <div class="about">
                      <h5>Balance: <%= user.balance.toFixed(2) %> TND</h5>
                      <p>
  <button
    class="btn buy-now"
    data-toggle="modal"
    data-target="#exampleModal"
    id="paimentButton"
    style="
      background-color: #28a745; /* Green color for the button */
      color: #fff; /* White text */
      font-size: 16px;
      padding: 12px 30px; /* Add padding for a larger button */
      border: none;
      border-radius: 50px; /* Rounded corners for a modern look */
      font-weight: 600;
      text-transform: uppercase;
      cursor: pointer;
      transition: all 0.3s ease-in-out; /* Smooth transition for hover effects */
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Soft shadow for a 3D effect */
      outline: none;
    "
    onclick="window.location.href='/profile-pay';"
  >
    AJOUTER SOLDE
  </button>



  
</p>

                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-xl-9 col-lg-9 col-md-12 col-sm-12 col-12">
              <div class="card h-100">
                <div class="card-body">
                  <% if (typeof success !== 'undefined' && success) { %>
                  <div class="alert alert-success" role="alert" id="success-message">
                    Your profile has been updated successfully!
                  </div>
                  <script>
                    setTimeout(function() {
                      const successMessage = document.getElementById('success-message');
                      if (successMessage) {
                        successMessage.style.display = 'none';
                      }
                    }, 2000); // 2 seconds
                  </script>
                  <% } %>
                  <div class="row gutters">
                    <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                      <h6 class="mb-2 text-primary">Personal Details</h6>
                    </div>
                    <form method="POST" action="/profile">                    
                      <div class="row gutters">
                        <!-- Full Name -->
                        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                          <div class="form-group">
                            <label for="fullName">Full Name</label>
                            <input
                              type="text"
                              class="form-control"
                              id="fullName"
                              placeholder="Enter full name"
                              value="<%= user.name %>"
                              name="name"
                              required
                            />
                          </div>
                        </div>
                    
                        <!-- Phone -->
                        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                          <div class="form-group">
                            <label for="phone">Phone</label>
                            <input
                              type="text"
                              class="form-control"
                              id="phone"
                              placeholder="Enter phone number"
                              value="<%= user.number %>"
                              name="number"
                              required
                            />
                          </div>
                        </div>
                    
                        <!-- Website -->
                        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                          <div class="form-group">
                            <label for="website">Niveau : </label>
                            <select id="university" class="form-control" name="niveau">
                              <option value="License" <%= user.niveau === 'License' ? 'selected' : '' %>>Licence</option>
                              <option value="Master" <%= user.niveau === 'Master' ? 'selected' : '' %>>Master</option>
                              <option value="Cycle Préparatoire" <%= user.niveau === 'Cycle Préparatoire' ? 'selected' : '' %>>Cycle Préparatoire</option>
                              <option value="Cycle D'ingénieur" <%= user.niveau === 'Cycle D\'ingénieur' ? 'selected' : '' %>>Cycle D'ingénieur</option>
                              <option value="Doctorat" <%= user.niveau === 'Doctorat' ? 'selected' : '' %>>Doctorat</option>
                            </select>
                            
                          </div>
                        </div>
                      </div>
                    
                      <div class="row gutters">
                        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                          <h6 class="mt-3 mb-2 text-primary">Address</h6>
                        </div>
                    
                        <!-- Address Fields -->
                        <!-- Street -->
                        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                          <div class="form-group">
                            <label for="Street">Street</label>
                            <input
                              type="text"
                              class="form-control"
                              id="Street"
                              placeholder="Enter Street"
                              name="street"
                              value="<%= user.street %>"
                              required
                            />
                          </div>
                        </div>
                    
                        <!-- City -->
                        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                          <div class="form-group">
                            <label for="ciTy">City</label>
                            <input
                              type="text"
                              class="form-control"
                              id="ciTy"
                              placeholder="Enter City"
                              value="<%= user.city %>"
                              name="city"
                              required
                            />
                          </div>
                        </div>
                    
                        <!-- State -->
                        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                          <div class="form-group">
                            <label for="sTate">State</label>
                            <input
                              type="text"
                              class="form-control"
                              id="sTate"
                              placeholder="Enter State"
                              value="<%= user.state %>"
                              name="state"
                              required
                            />
                          </div>
                        </div>
                    
                        <!-- Zip -->
                        <div class="col-xl-6 col-lg-6 col-md-6 col-sm-6 col-12">
                          <div class="form-group">
                            <label for="zIp">Zip Code</label>
                            <input
                              type="text"
                              class="form-control"
                              id="zIp"
                              placeholder="Zip Code"
                              value="<%= user.zip %>"
                              name="zip"
                              required
                            />
                          </div>
                        </div>
                      </div>
                    
                      <div class="row gutters">
                        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12">
                          <div class="text-right">

                            <button
                              type="button"
                              id="cancel"
                              name="cancel"
                              class="btn btn-secondary"
                              style="background-color: #a72828; box-shadow: #a72828;"
                              onclick="window.location.href='/logout'"
                            >
                              Logout
                            </button>

                            <button
                              type="button"
                              id="cancel"
                              name="cancel"
                              class="btn btn-secondary"
                            >
                              Cancel
                            </button>
                            <button
                              type="submit"
                              id="submit"
                              name="submit"
                              class="btn btn-primary"
                            >
                              Update
                            </button>
                          </div>
                        </div>
                      </div>
                    </form>
                    
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
    <script
      data-cfasync="false"
      src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"
    ></script>
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/javascript"></script>
    <script src="js/profile_check_request.js"></script>
  </body>
</html>
